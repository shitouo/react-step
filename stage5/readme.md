### stage4

#### 目标

这个阶段的目标是要实现setState函数，更新我们的页面。

#### 思路

在调用setState后，我们会首先更新我们组件的state。然后调用组件的render函数，让组件的各节点的pendingProps和memoriedProps比较，如果不一样，则标识此节点为需要更新。所以这里有一点我们要注意，检查各节点是否有更新，是组件的全量节点，所以我们一个组件的节点不要太多，不然会很消耗性能。

#### 实施
我们先只考虑装载阶段，这部分的难点很显然，就是如何构建virtual DOM或者Fiber了。我们这里考虑实现的是Fiber。    

#### 总结

这一阶段没有什么难点，主要是对reactElement一些属性的解析。